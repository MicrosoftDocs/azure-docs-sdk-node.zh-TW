### YamlMime:UniversalReference
ms.openlocfilehash: a9f71af819e984aff15e0a57f968ec78e2dc79d8
ms.sourcegitcommit: 0e294f7c4dcdfae9df18ff3e82b6563680ef2519
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/25/2019
ms.locfileid: "55054739"
items:
- uid: azure-arm-batch.NetworkConfiguration
  name: NetworkConfiguration
  fullName: NetworkConfiguration
  children:
  - azure-arm-batch.NetworkConfiguration.endpointConfiguration
  - azure-arm-batch.NetworkConfiguration.subnetId
  langs:
  - typeScript
  type: interface
  summary: 集區網路組態。
  package: azure-arm-batch
- uid: azure-arm-batch.NetworkConfiguration.endpointConfiguration
  name: endpointConfiguration
  fullName: endpointConfiguration
  children: []
  langs:
  - typeScript
  type: property
  summary: 在使用 virtualMachineConfiguration 屬性的集區上才支援集區端點設定。
  optional: true
  syntax:
    content: 'endpointConfiguration?: PoolEndpointConfiguration'
    return:
      type:
      - azure-arm-batch.PoolEndpointConfiguration
  package: azure-arm-batch
- uid: azure-arm-batch.NetworkConfiguration.subnetId
  name: subnetId
  fullName: subnetId
  children: []
  langs:
  - typeScript
  type: property
  summary: >-
    虛擬網路必須位於相同的區域和訂用帳戶與 Azure Batch 帳戶。 指定的子網路必須有足夠可用的 IP 位址，以配合集區中的節點數目。 如果子網路沒有足夠的可用 IP 位址，集區將部分配置計算節點，並調整大小錯誤會發生。 'MicrosoftAzureBatch' 服務主體必須具有 「 傳統虛擬機器參與者 」 角色型存取控制 (RBAC) 角色，針對指定的 VNet。 指定的子網路必須允許來自 Azure Batch 服務要能夠計算節點上排程工作的通訊。

    這可以藉由檢查指定的 VNet 有任何相關聯網路安全性群組 (NSG) 來驗證。 如果 NSG 拒絕對指定的子網路中的計算節點的通訊，則 Batch 服務會以無法使用設定計算節點的狀態。 透過 virtualMachineConfiguration 建立批次的集區帳戶必須具有 poolAllocationMode userSubscription，才能使用 VNet。 如果指定的 VNet 有任何相關聯的網路安全性群組 (NSG)，則必須啟用幾個已保留的系統連接埠以供進行輸入通訊。 对于使用虚拟机配置创建的池，请启用端口 29876 和 29877，以及端口 22（适用于 Linux）和 3389（适用于 Windows）。 若為使用雲端服務組態所建立的集區，請啟用連接埠 10100、20100 和 30100。 也啟用連接埠 443 上的 Azure 儲存體的輸出連線。 如需詳細資訊，請參閱： https://docs.microsoft.com/en-us/azure/batch/batch-api-basics#virtual-network-vnet-and-firewall-configuration
  optional: true
  syntax:
    content: 'subnetId?: string'
    return:
      type:
      - string
  package: azure-arm-batch
references:
- uid: azure-arm-batch.PoolEndpointConfiguration
  name: PoolEndpointConfiguration
  spec.typeScript:
  - name: PoolEndpointConfiguration
    fullName: PoolEndpointConfiguration
    uid: azure-arm-batch.PoolEndpointConfiguration
