### YamlMime:UniversalReference
items:
  - uid: '@azure/batch.MultiInstanceSettings'
    name: MultiInstanceSettings
    fullName: MultiInstanceSettings
    children:
      - '@azure/batch.MultiInstanceSettings.commonResourceFiles'
      - '@azure/batch.MultiInstanceSettings.coordinationCommandLine'
      - '@azure/batch.MultiInstanceSettings.numberOfInstances'
    langs:
      - typeScript
    type: interface
    summary: '<span data-ttu-id="59987-101">多重執行個體工作通常會用來支援 MPI 工作。</span><span class="sxs-lookup"><span data-stu-id="59987-101">Multi-instance tasks are commonly used to support MPI tasks.</span></span> <span data-ttu-id="59987-102">在 MPI 案例中，如果任何子工作失敗 （例如因為透過非零結束代碼結束） 整個多重執行個體工作會失敗。</span><span class="sxs-lookup"><span data-stu-id="59987-102">In the MPI case, if any of the subtasks fail (for example due to exiting with a non-zero exit code) the entire multi-instance task fails.</span></span> <span data-ttu-id="59987-103">接著會終止並重試多重執行個體工作，直到觸及重試限制為止。</span><span class="sxs-lookup"><span data-stu-id="59987-103">The multi-instance task is then terminated and retried, up to its retry limit.</span></span>'
    package: '@azure/batch'
  - uid: '@azure/batch.MultiInstanceSettings.commonResourceFiles'
    name: commonResourceFiles
    fullName: commonResourceFiles
    children: []
    langs:
      - typeScript
    type: property
    summary: '<span data-ttu-id="59987-104">Batch 服務會在執行協調命令列前下載的檔案清單。</span><span class="sxs-lookup"><span data-stu-id="59987-104">A list of files that the Batch service will download before running the coordination command line.</span></span> <span data-ttu-id="59987-105">一般資源檔和工作資源檔案之間的差異是一般資源檔下載為所有子工作，包括主要資料庫，而工作資源檔只會下載主要。</span><span class="sxs-lookup"><span data-stu-id="59987-105">The difference between common resource files and task resource files is that common resource files are downloaded for all subtasks including the primary, whereas task resource files are downloaded only for the primary.</span></span> <span data-ttu-id="59987-106">也請注意，這些資源檔不會下載到工作工作目錄中，但改為下載到工作根目錄 （工作目錄上方的一個目錄）。</span><span class="sxs-lookup"><span data-stu-id="59987-106">Also note that these resource files are not downloaded to the task working directory, but instead are downloaded to the task root directory (one directory above the working directory).</span></span>  <span data-ttu-id="59987-107">沒有資源檔清單的最大大小。</span><span class="sxs-lookup"><span data-stu-id="59987-107">There is a maximum size for the list of resource files.</span></span>  <span data-ttu-id="59987-108">當超過大小上限時，則要求會失敗，並回應錯誤程式碼會比較 RequestEntityTooLarge。</span><span class="sxs-lookup"><span data-stu-id="59987-108">When the max size is exceeded, the request will fail and the response error code will be RequestEntityTooLarge.</span></span> <span data-ttu-id="59987-109">如果發生這種情況，就必須降低的 ResourceFiles 集合的大小。</span><span class="sxs-lookup"><span data-stu-id="59987-109">If this occurs, the collection of ResourceFiles must be reduced in size.</span></span> <span data-ttu-id="59987-110">這可以使用.zip 檔、 應用程式套件或 Docker 容器來達成。</span><span class="sxs-lookup"><span data-stu-id="59987-110">This can be achieved using .zip files, Application Packages, or Docker Containers.</span></span>'
    optional: true
    syntax:
      content: 'commonResourceFiles?: ResourceFile[]'
      return:
        type:
          - '@azure/batch.ResourceFile[]'
    package: '@azure/batch'
  - uid: '@azure/batch.MultiInstanceSettings.coordinationCommandLine'
    name: coordinationCommandLine
    fullName: coordinationCommandLine
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="59987-111">命令列，使其能夠協調時的所有計算節點上執行的主要執行主要工作的命令。</span><span class="sxs-lookup"><span data-stu-id="59987-111">The command line to run on all the compute nodes to enable them to coordinate when the primary runs the main task command.</span></span> <span data-ttu-id="59987-112">一般協調命令列啟動背景服務，並確認服務已準備好處理節點間的訊息。</span><span class="sxs-lookup"><span data-stu-id="59987-112">A typical coordination command line launches a background service and verifies that the service is ready to process inter-node messages.</span></span>
    syntax:
      content: 'coordinationCommandLine: string'
      return:
        type:
          - string
    package: '@azure/batch'
  - uid: '@azure/batch.MultiInstanceSettings.numberOfInstances'
    name: numberOfInstances
    fullName: numberOfInstances
    children: []
    langs:
      - typeScript
    type: property
    summary: '<span data-ttu-id="59987-113">工作需要的計算節點數目。</span><span class="sxs-lookup"><span data-stu-id="59987-113">The number of compute nodes required by the task.</span></span> <span data-ttu-id="59987-114">如果省略，預設值為 1。</span><span class="sxs-lookup"><span data-stu-id="59987-114">If omitted, the default is 1.</span></span>'
    optional: true
    syntax:
      content: 'numberOfInstances?: undefined | number'
      return:
        type:
          - undefined | number
    package: '@azure/batch'
references:
  - uid: '@azure/batch.ResourceFile[]'
    name: 'ResourceFile[]'
    spec.typeScript:
      - name: ResourceFile
        fullName: ResourceFile
        uid: '@azure/batch.ResourceFile'
      - name: '[]'
        fullName: '[]'